<main role="main" class="view-organization screen">
  <div class="container container-view">
    <div class="container_header header"></div>
    <div class="container_content">
      <div class="table-wrapper">
        <div class="table-title">
          <div class="row">
            <div class="col-sm-4">
              <h2 class="e2e-header-title">Liste des candidats</h2>
            </div>
            <input
              class="form-control w-25 col-sm-4"
              type="text"
              name="search"
              [(ngModel)]="searchText"
              autocomplete="off"
              placeholder="&#61442; Rechercher un candidat"
            />
            <div class="col-sm-4 switcher">
              <label class="mx-2">Tout</label>
              <p-inputSwitch
                [(ngModel)]="etat"
                inputId="inputSwitch"
                (onChange)="handleChange($event)"
              >
              </p-inputSwitch>
              <label for="inputSwitch" class="mx-2">En attend </label>
            </div>
          </div>
        </div>
        <table class="table table-striped table-hover e2e-table-organization">
          <thead>
            <tr>
              <th class="e2e-thead-name">Nom</th>
              <th class="e2e-thead-description">prÃ©nom</th>
              <th class="e2e-thead-titre">titre</th>
              <th class="e2e-thead-adress">email</th>
              <th class="e2e-thead-action">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="e2e-rows-organizations"
              *ngFor="let candidate of filtredCandidates | filter: searchText"
            >
              <td>
                <a [routerLink]="['profil', candidate.id]" [state]="candidate">
                  <class class="e2e-row-name" style="cursor: pointer"></class>
                  {{ candidate.nom }}</a
                >
              </td>
              <td>{{ candidate.prenom }}</td>
              <td>{{ candidate.degree }}</td>
              <td>{{ candidate.email }}</td>
              <td>
                <a
                  [routerLink]="['profil', candidate.id]"
                  [state]="candidate"
                  class="edit"
                  title="Consulter"
                  pTooltip="Consulter cette condidature"
                >
                  <i class="fas fa-book-open"></i>
                </a>
                <a
                  class="reject"
                  title="Rejected"
                  pTooltip="Cette condidature est refuser"
                  *ngIf="candidate.etat === 2"
                >
                  <i class="fas fa-times"></i>
                </a>
                <a
                  class="accept"
                  title="accept"
                  pTooltip="Cette condidature est accepter"
                  *ngIf="candidate.etat === 1"
                >
                  <i class="fas fa-check"></i>
                </a>
                <a
                  title="En attend"
                  pTooltip="Cette condidature en attend"
                  *ngIf="candidate.etat === 0"
                >
                  <i class="fas fa-hourglass-start"></i>
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>
